<!--
  Generated template for the EditProfilPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Data Diri</ion-title>
    <ion-buttons end>
      <button ion-button (click)="simpan()" [disabled]="profilform.invalid">Simpan</button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form [formGroup]="profilform" novalidate>
    <ion-list>
      <ion-item>
        <ion-icon name="person" item-start color="primary"></ion-icon>
        <ion-label stacked>Nama Lengkap</ion-label>
        <ion-input type="text" [(ngModel)]="profilData.nama" formControlName="nama"
          [class.error1]="!profilform.controls.nama.valid && profilform.controls.nama.dirty"></ion-input>
      </ion-item>
      <ion-item no-lines *ngIf="profilform.get('nama').hasError('required') && profilform.get('nama').touched">
        <div class="error" *ngIf="profilform.get('nama').hasError('required') && profilform.get('nama').touched">
          Masukkan Nama
        </div>
      </ion-item>

      <ion-item>
        <ion-icon name="briefcase" item-start color="primary"></ion-icon>
        <ion-label stacked>Institusi/Perusahaan</ion-label>
        <ion-select (ionChange)="institusiChange($event)" [(ngModel)]="profilData.institusi"
          formControlName="institusi">
          <ion-option value="1">Institut Pertanian Bogor</ion-option>
          <ion-option value="2">Lainnya</ion-option>
        </ion-select>

        <ion-input *ngIf="institusiLain" type="text" placeholder="e.g. PT Abadi" [(ngModel)]="profilData.institusiLain"
          formControlName="institusiLain"></ion-input>

      </ion-item>

      <ion-item *ngIf="IPB">
        <ion-icon name="finger-print" item-start color="primary"></ion-icon>
        <ion-label stacked>NIM/NIK IPB</ion-label>
        <ion-input type="text" [(ngModel)]="profilData.noIdentitas" placeholder="e.g. G64150049"
          formControlName="noIdentitas"></ion-input>
      </ion-item>

      <ion-item>
        <ion-icon name="home" item-start color="primary"></ion-icon>
        <ion-label stacked>Alamat</ion-label>
        <ion-textarea type="email" [(ngModel)]="profilData.alamat" formControlName="alamat"></ion-textarea>
      </ion-item>

      <ion-item>
        <ion-icon name="call" item-start color="primary"></ion-icon>
        <ion-label stacked>No HP</ion-label>
        <ion-input type="number" [(ngModel)]="profilData.noHp" max="12" formControlName="noHp"></ion-input>
      </ion-item>

      <ion-item>
        <ion-icon name="mail" item-start color="primary"></ion-icon>
        <ion-label stacked>Email</ion-label>
        <ion-input type="email" [(ngModel)]="profilData.email" formControlName="email"
          [class.error1]="!profilform.controls.email.valid && profilform.controls.email.dirty"></ion-input>
      </ion-item>
      <ion-item no-lines
        *ngIf="( profilform.get('email').hasError('pattern') ||profilform.get('email').hasError('required') ) && profilform.get('email').touched">
        <div class="error" *ngIf="profilform.get('email').hasError('required') && profilform.get('email').touched">
          Masukkan Email
        </div>
        <div class="error" *ngIf="profilform.get('email').hasError('pattern') && profilform.get('email').touched">
          Email tidak valid
        </div>
      </ion-item>

      <ion-item>
        <ion-icon name="checkmark-circle-outline" item-start color="primary"></ion-icon>
        <ion-label stacked>No NPWP</ion-label>
        <ion-input type="number" [(ngModel)]="profilData.npwp" formControlName="npwp"></ion-input>
      </ion-item>

    </ion-list>
  </form>
</ion-content>